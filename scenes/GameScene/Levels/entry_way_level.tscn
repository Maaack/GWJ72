[gd_scene load_steps=9 format=3 uid="uid://cr1hp03uwukc6"]

[ext_resource type="PackedScene" uid="uid://d1fi1nji5pj2q" path="res://scenes/GameScene/Levels/level_base.tscn" id="1_yyhry"]
[ext_resource type="MeshLibrary" uid="uid://dneqqhqntkac6" path="res://scenes/Meshes/mesh_library.tres" id="2_iphm8"]
[ext_resource type="PackedScene" uid="uid://c0eheh04avnu8" path="res://scenes/Door/door.tscn" id="3_7kxs3"]
[ext_resource type="PackedScene" uid="uid://blhwdtcsf0s4y" path="res://scenes/Interactables/door_trigger.tscn" id="4_7vhuo"]
[ext_resource type="PackedScene" uid="uid://jn0xjth7242y" path="res://scenes/Interactables/orb.tscn" id="5_587f4"]
[ext_resource type="PackedScene" uid="uid://c1l848ekwb200" path="res://scenes/Interactables/light_source.tscn" id="6_b8bdc"]
[ext_resource type="PackedScene" uid="uid://bmp381aiiqv5a" path="res://scenes/Door/exit_door.tscn" id="7_22mdc"]

[sub_resource type="Environment" id="Environment_h7ncb"]
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.75

[node name="EntryWayLevel" instance=ExtResource("1_yyhry")]

[node name="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_h7ncb")

[node name="FloorGridMap" parent="." index="1"]
data = {
"cells": PackedInt32Array(65535, 65535, 655363, 0, 65535, 655363, 1, 0, 655363, 1, 1, 655363, 0, 1, 655363, 65535, 1, 655363, 65535, 0, 655363, 0, 0, 655363, 65534, 1, 655363, 65534, 0, 655363, 65534, 65535, 655363, 65534, 65534, 655363, 65535, 65534, 655363, 0, 65534, 655363, 1, 65534, 655363, 1, 65535, 655363, 1, 2, 655363, 0, 2, 655363, 65535, 2, 655363, 65534, 2, 655363, 65533, 2, 655363, 65533, 1, 655363, 65533, 0, 655363, 65533, 65535, 655363, 65533, 65534, 655363, 65533, 65533, 655363, 65534, 65533, 655363, 65535, 65533, 655363, 0, 65533, 655363, 1, 65533, 655363, 2, 65533, 655363, 2, 65534, 655363, 2, 65535, 655363, 2, 0, 655363, 2, 1, 655363, 2, 2, 655363, 2, 3, 655363, 1, 3, 655363, 0, 3, 655363, 65535, 3, 655363, 65534, 3, 655363, 65533, 3, 655363, 65532, 3, 655363, 65532, 2, 655363, 65532, 1, 655363, 65532, 0, 655363, 65532, 65535, 655363, 65532, 65534, 655363, 65532, 65533, 655363, 65532, 65532, 655363, 65533, 65532, 655363, 65534, 65532, 655363, 65535, 65532, 655363, 0, 65532, 655363, 1, 65532, 655363, 2, 65532, 655363, 3, 65532, 655363, 3, 65533, 655363, 3, 65534, 655363, 3, 65535, 655363, 3, 0, 655363, 3, 1, 655363, 3, 2, 655363, 3, 3, 655363, 65532, 65531, 655363, 65533, 65531, 655363, 65534, 65531, 655363, 65535, 65531, 655363, 0, 65531, 655363, 1, 65531, 655363, 2, 65531, 655363, 2, 65530, 655363, 3, 65530, 655363, 3, 65531, 655363, 1, 65530, 655363, 0, 65530, 655363, 65535, 65530, 655363, 65534, 65530, 655363, 65533, 65530, 3, 65532, 65530, 655363, 65533, 65529, 655363, 65534, 65529, 655363, 65535, 65529, 655363, 0, 65529, 655363, 1, 65529, 655363, 2, 65529, 655363, 65532, 65529, 655363, 3, 65529, 655363, 65533, 65528, 3, 65534, 65528, 3, 65532, 65528, 3, 65532, 65527, 3, 65533, 65527, 3, 65534, 65527, 3, 1, 65527, 3, 2, 65527, 3, 2, 65528, 3, 3, 65528, 3, 3, 65527, 3, 0, 65527, 3, 65535, 65527, 3, 1, 65528, 3, 0, 65528, 3, 65535, 65528, 3, -262142, 65516, 3, -262141, 65516, 3, -262143, 65516, 3, -262144, 65516, 3, -196609, 65516, 3, -196610, 65516, 3, -196611, 65516, 3, -196612, 65516, 3, -196612, 65517, 3, -196611, 65517, 3, -196610, 65517, 3, -196609, 65517, 3, -262144, 65517, 3, -262143, 65517, 3, -262142, 65517, 3, -262141, 65517, 3, -196612, 65518, 3, -196611, 65518, 3, -196610, 65518, 3, -196609, 65518, 3, -262144, 65518, 3, -262143, 65518, 3, -262142, 65518, 3, -262141, 65518, 3, -196607, 65520, 3, -196607, 65519, 3, -196607, 65518, 655392, -196606, 65520, 3, -196606, 65519, 3, -196605, 65519, 655392, -196605, 65518, 3, -196606, 65518, 3, -196605, 65520, 3, -196608, 65518, 3, -196608, 65519, 3, -196608, 65520, 3, -131073, 65518, 3, -131073, 65519, 655392, -131073, 65520, 3, -131074, 65520, 3, -131074, 65519, 3, -131075, 65519, 3, -131075, 65520, 3, -131076, 65519, 3, -131076, 65520, 3, -131074, 65518, 3, -131075, 65518, 3, -131076, 65518, 655392, -131073, 65517, 3, -196608, 65517, 3, -196607, 65517, 3, -196606, 65517, 3, -131074, 65517, 3, -196605, 65517, 3, -196605, 65516, 3, -196606, 65516, 3, -196607, 65516, 3, -196608, 65516, 3, -131073, 65516, 3, -131074, 65516, 3, -131075, 65516, 3, -131076, 65516, 3, -131076, 65517, 3, -131075, 65517, 3)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="WallsGridMap" parent="." index="2"]
data = {
"cells": PackedInt32Array(65533, 3, 5, 65534, 3, 5, 65535, 3, 5, 0, 3, 5, 1, 3, 5, 2, 3, 5, 3, 2, 1441797, 3, 1, 10, 3, 0, 1441797, 3, 65535, 1048581, 3, 65534, 1048586, 3, 65533, 1441797, 65532, 65533, 1441797, 65532, 65534, 1048586, 65532, 65535, 1048581, 65532, 0, 1441797, 65532, 1, 10, 65532, 2, 1441797, 3, 3, 1441801, 3, 65532, 1048581, 65532, 65532, 1048581, 65532, 3, 655369, 65532, 65531, 1441802, 65532, 65530, 1048581, 65532, 65529, 1048581, 3, 65529, 1048581, 3, 65530, 1048581, 3, 65531, 1441802, 3, 65528, 1048586, 65532, 65528, 1048586, 65533, 65528, 11, 65534, 65528, 11, 65535, 65528, 11, 0, 65528, 11, 1, 65528, 11, 2, 65528, 11, -1, 65523, 655369, -65537, 65523, 655369, -131073, 65523, 655369, -196609, 65523, 655369, -262144, 65523, 1441801, -196608, 65523, 1441801, -131072, 65523, 1441801, -65536, 65523, 1441801, -1, 65522, 1441797, -1, 65521, 1441797, -65536, 65522, 1441797, -65536, 65521, 1441797, -65536, 65520, 1441797, -65536, 65519, 1441797, -1, 65520, 1441797, -1, 65519, 1441797, 65535, 65523, 1048590, 0, 65523, 1048590, 65535, 65522, 1048588, 0, 65522, 1048588, 65535, 65521, 1048588, 0, 65521, 1048588, 65535, 65520, 1441797, 65535, 65519, 1441797, 0, 65520, 1441797, 0, 65519, 1441797, 65532, 65527, 1048581, 65532, 65526, 1048581, 65532, 65525, 1048581, 65532, 65524, 1048581, 65532, 65523, 1048581, 65532, 65522, 1048581, 65532, 65521, 1048581, 65532, 65520, 1048581, 65532, 65519, 1048581, 65532, 65518, 1048581, 65532, 65517, 1048581, 3, 65527, 1048581, 3, 65526, 1048581, 3, 65525, 1048581, 3, 65524, 1048581, 3, 65523, 1048581, 3, 65522, 1048581, 3, 65521, 1048581, 3, 65520, 1048581, 3, 65519, 1048581, 3, 65517, 1048581, 3, 65518, 1048581, -4, 65517, 655370, -4, 65518, 1048581, -4, 65519, 1048581, -4, 65520, 1048581, -4, 65521, 1048581, -4, 65522, 1048581, -4, 65523, 1048581, -4, 65524, 1048581, -4, 65525, 1048581, -4, 65526, 1048581, -65533, 65526, 1048581, -65533, 65525, 1048581, -65533, 65524, 1048581, -65533, 65523, 1048581, -65533, 65522, 1048581, -65533, 65521, 1048581, -65533, 65520, 1048581, -65533, 65519, 1048581, -65533, 65518, 1048581, -65533, 65517, 655370, -131069, 65517, 1048581, -131069, 65518, 655370, -131069, 65519, 1048581, -131069, 65520, 1048581, -131069, 65521, 1048581, -131069, 65522, 1048581, -131069, 65523, 1048581, -131069, 65524, 1048581, -131069, 65525, 1048581, -65540, 65524, 1048581, -65540, 65523, 1048581, -65540, 65522, 1048581, -65540, 65521, 1048581, -65540, 65520, 1048581, -65540, 65519, 1048581, -65540, 65518, 655370, -65540, 65517, 1048581, -131076, 65517, 1048581, -131076, 65518, 10, -131076, 65519, 1048581, -131076, 65520, 1048581, -131076, 65521, 1048581, -131076, 65522, 1048581, -196605, 65522, 1048581, -196605, 65521, 1048581, -196605, 65520, 1048581, -196605, 65519, 1048581, -196605, 65518, 10, -196605, 65517, 1048581, -196612, 65520, 1048581, -196612, 65519, 1048581, -196612, 65518, 1048581, -196612, 65517, 1048581, -262141, 65520, 1048581, -262141, 65519, 1048581, -262141, 65518, 1048581, -262141, 65517, 1048581, -196612, 65516, 1048585, -131076, 65516, 1048585, -65540, 65516, 1048585, -4, 65516, 1048585, 65532, 65516, 1048585, 3, 65516, 9, -65533, 65516, 9, -131069, 65516, 9, -196605, 65516, 9, -262141, 65516, 9, -262144, 65516, 5, -196609, 65516, 5, -262143, 65516, 5, -196610, 65516, 5, -196607, 65516, 1441802, -196608, 65516, 5, -131073, 65516, 5, -131074, 65516, 1441802, -65538, 65516, 5, -65537, 65516, 1441802, -131072, 65516, 1441802, -131071, 65516, 5, -65535, 65516, 5, -65536, 65516, 1441802, -1, 65516, 1441802, -2, 65516, 5, -3, 65516, 5, -65534, 65516, 5, 2, 65516, 5, 1, 65516, 5, 0, 65516, 1441802, 65535, 65516, 1441802, 65534, 65516, 5, 65533, 65516, 5, -65539, 65516, 5, -131070, 65516, 5, -131075, 65516, 5, -196606, 65516, 5, -196611, 65516, 11, -262142, 65516, 11, -131072, 65522, 1441797, -131072, 65521, 1441797, -131072, 65520, 1441797, -131072, 65519, 1441797, -131072, 65518, 655370, -131072, 65517, 1441797, -65537, 65517, 1441797, -65537, 65518, 655370, -65537, 65519, 1441797, -65537, 65520, 1441797, -65537, 65521, 1441797, -65537, 65522, 1441797, 0, 65517, 1441797, 0, 65518, 1441797, 65535, 65517, 1441797, 65535, 65518, 1441797, -65536, 65518, 1441797, -65536, 65517, 655370, -1, 65518, 1441797, -1, 65517, 655370, 2, 65531, 655371, 1, 65531, 655371, 0, 65531, 655371, 65535, 65531, 655371, 65534, 65531, 655371, 65533, 65531, 655371, 65535, 65534, 8, 0, 65534, 8, 65533, 65534, 8, 2, 65534, 8, 1, 65534, 11, 65534, 65534, 11, 1, 1, 11, 65534, 1, 11, 65533, 1, 6, 2, 1, 6, 0, 1, 6, 65535, 1, 6, -131075, 65518, 11, -131074, 65518, 6, -131073, 65518, 7, -196608, 65518, 7, -196607, 65518, 6, -196606, 65518, 11, -196607, 65517, 1441799, -131074, 65517, 1441799, -65539, 65518, 655366, -65538, 65518, 655365, -131070, 65518, 655366, -131071, 65518, 655365, -3, 65517, 655365, -2, 65517, 655365, -65535, 65517, 655365, -65534, 65517, 655365)
}

[node name="Player" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 4)

[node name="StairsGridMap" type="GridMap" parent="." index="4"]
mesh_library = ExtResource("2_iphm8")
cell_size = Vector3(4, 4, 4)
cell_center_y = false
data = {
"cells": PackedInt32Array(-4, 65526, 655379, -3, 65526, 655379, -2, 65526, 655379, -1, 65526, 655379, -65536, 65526, 655379, -65535, 65526, 655379, -65534, 65526, 655379, -65533, 65526, 655379, -196605, 65524, 655382, -196606, 65524, 655382, -196607, 65524, 655382, -196608, 65524, 655382, -131073, 65524, 655382, -131074, 65524, 655382, -131075, 65524, 655382, -131076, 65524, 655382, -262141, 65523, 655382, -262142, 65523, 655382, -262143, 65523, 655382, -262144, 65523, 655382, -196609, 65523, 655382, -196610, 65523, 655382, -196611, 65523, 655382, -196612, 65523, 655382, -262148, 65522, 655382, -262147, 65522, 655382, -262146, 65522, 655382, -262145, 65522, 655382, -327680, 65522, 655382, -327679, 65522, 655382, -327678, 65522, 655382, -327677, 65522, 655382, -393213, 65521, 655382, -393214, 65521, 655382, -393215, 65521, 655382, -393216, 65521, 655382, -327681, 65521, 655382, -327682, 65521, 655382, -327683, 65521, 655382, -327684, 65521, 655382, -393220, 65520, 655382, -393219, 65520, 655382, -393218, 65520, 655382, -393217, 65520, 655382, -458752, 65520, 655382, -458751, 65520, 655382, -458750, 65520, 655382, -458749, 65520, 655382, -65540, 65524, 655379, -65539, 65524, 655379, -65538, 65524, 655379, -65537, 65524, 655379, -131072, 65524, 655379, -131071, 65524, 655379, -131071, 65525, 655379, -131070, 65524, 655379, -131069, 65524, 655379, -196605, 65522, 655379, -196606, 65522, 655379, -196607, 65522, 655379, -196608, 65522, 655379, -131073, 65522, 655379, -131074, 65522, 655379, -131075, 65522, 655379, -131076, 65522, 655379, -196612, 65520, 655379, -196611, 65520, 655379, -196610, 65520, 655379, -196609, 65520, 655379, -262144, 65520, 655379, -262143, 65520, 655379, -262142, 65520, 655379, -262141, 65520, 655379)
}
metadata/_editor_floor_ = Vector3(0, -4, 0)

[node name="OffsetGridMap" type="GridMap" parent="." index="5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 2)
mesh_library = ExtResource("2_iphm8")
cell_size = Vector3(4, 4, 4)
cell_center_y = false
data = {
"cells": PackedInt32Array(65535, 65520, 11)
}
metadata/_editor_floor_ = Vector3(0, -1, 0)

[node name="OffsetFloorGridMap" type="GridMap" parent="." index="6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 2)
mesh_library = ExtResource("2_iphm8")
cell_size = Vector3(4, 4, 4)
cell_center_y = false
data = {
"cells": PackedInt32Array(65535, 65521, 1441795, 65535, 65520, 1441795, 65535, 65519, 1441795, 65535, 65518, 1441795, 65535, 65522, 1441795, -65540, 65517, 3, -65539, 65517, 3, -65538, 65517, 3, -65537, 65517, 3, -131072, 65517, 3, -131071, 65517, 3, -131070, 65517, 3, -131070, 65516, 3, -131071, 65516, 3, -131072, 65516, 3, -65537, 65516, 3, -65538, 65516, 3, -65539, 65516, 3, -65540, 65516, 3, -4, 65517, 655363, -3, 65517, 3, -2, 65517, 32, -2, 65516, 655363, -3, 65516, 655363, -4, 65516, 655363, -65536, 65517, 655363, -65535, 65517, 655363, -65534, 65517, 655363, -65534, 65516, 655363, -65535, 65516, 655363, -65536, 65516, 655363, 65532, 65516, 655363, 65533, 65516, 655363, 65534, 65516, 655363, 2, 65516, 32, 1, 65516, 655363, 0, 65516, 655363)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Door" parent="." index="7" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 11, 0, -18)
locked = true

[node name="Door2" parent="." index="8" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 7, 0, -18)
locked = true

[node name="Door3" parent="." index="9" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 3, 0, -18)
locked = true

[node name="Door4" parent="." index="10" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -18)
locked = true

[node name="Door5" parent="." index="11" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, -18)
locked = true

[node name="Door6" parent="." index="12" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, -18)
locked = true

[node name="Door13" parent="." index="13" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 7, 0, -6)
opened = true

[node name="Door14" parent="." index="14" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, -6)
opened = true

[node name="Door7" parent="." index="15" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 3, 0, -30)
locked = true

[node name="Door8" parent="." index="16" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 7, 0, -30)
locked = true

[node name="Door9" parent="." index="17" instance=ExtResource("3_7kxs3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 11, 0, -30)
locked = true

[node name="Door10" parent="." index="18" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -30)
locked = true

[node name="Door11" parent="." index="19" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7, 0, -30)
locked = true

[node name="Door12" parent="." index="20" instance=ExtResource("3_7kxs3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, -30)
locked = true

[node name="DoorTrigger" parent="." index="21" node_paths=PackedStringArray("doors", "orbs") instance=ExtResource("4_7vhuo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -12)
doors = [NodePath("../Door"), NodePath("../Door2"), NodePath("../Door3"), NodePath("../Door4"), NodePath("../Door5"), NodePath("../Door6"), NodePath("../Door13"), NodePath("../Door14")]
orbs = [NodePath("../Orb")]
toggled = true

[node name="OrbReceiver" parent="DoorTrigger" index="2"]
has_orbs = true

[node name="DoorTrigger2" parent="." index="22" node_paths=PackedStringArray("doors") instance=ExtResource("4_7vhuo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -24)
doors = [NodePath("../Door"), NodePath("../Door2"), NodePath("../Door3"), NodePath("../Door4"), NodePath("../Door5"), NodePath("../Door6"), NodePath("../Door7"), NodePath("../Door8"), NodePath("../Door9"), NodePath("../Door10"), NodePath("../Door11"), NodePath("../Door12")]

[node name="LightSource" parent="." index="23" node_paths=PackedStringArray("orbs") instance=ExtResource("6_b8bdc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, -4, -72)
orbs = [NodePath("../Orb2")]
toggled = true

[node name="OrbReceiver" parent="LightSource" index="2"]
has_orbs = true

[node name="LightSource2" parent="." index="24" node_paths=PackedStringArray("orbs") instance=ExtResource("6_b8bdc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, -4, -72)
orbs = [NodePath("../Orb3")]
toggled = true

[node name="OrbReceiver" parent="LightSource2" index="2"]
has_orbs = true

[node name="Orb" parent="." index="25" instance=ExtResource("5_587f4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -12)

[node name="Orb2" parent="." index="26" instance=ExtResource("5_587f4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, -2, -72)

[node name="Orb3" parent="." index="27" instance=ExtResource("5_587f4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, -2, -72)

[node name="ExitDoor" parent="." index="28" instance=ExtResource("7_22mdc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 6)
level_path = "res://scenes/GameScene/Levels/grand_hall_level.tscn"
entering_door_name = "ExitDoor3"
flipped = true

[node name="ExitDoor2" parent="." index="29" instance=ExtResource("7_22mdc")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 6, 0, 6)
level_path = "res://scenes/GameScene/Levels/grand_hall_level.tscn"
entering_door_name = "ExitDoor2"

[editable path="DoorTrigger"]
[editable path="LightSource"]
[editable path="LightSource2"]
