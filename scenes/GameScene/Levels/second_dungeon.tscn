[gd_scene load_steps=9 format=3 uid="uid://c1yq2ty0salaw"]

[ext_resource type="PackedScene" uid="uid://d1fi1nji5pj2q" path="res://scenes/GameScene/Levels/level_base.tscn" id="1_cauw0"]
[ext_resource type="MeshLibrary" uid="uid://dneqqhqntkac6" path="res://scenes/Meshes/mesh_library.tres" id="2_10yx4"]
[ext_resource type="PackedScene" uid="uid://bmp381aiiqv5a" path="res://scenes/Door/exit_door.tscn" id="3_whfc1"]
[ext_resource type="PackedScene" uid="uid://c0eheh04avnu8" path="res://scenes/Door/door.tscn" id="4_hrkjl"]
[ext_resource type="PackedScene" uid="uid://blhwdtcsf0s4y" path="res://scenes/Interactables/door_trigger.tscn" id="5_2wfsk"]
[ext_resource type="PackedScene" uid="uid://jn0xjth7242y" path="res://scenes/Interactables/orb.tscn" id="6_v2jpw"]
[ext_resource type="PackedScene" uid="uid://c1l848ekwb200" path="res://scenes/Interactables/light_source.tscn" id="7_u4306"]

[sub_resource type="Environment" id="Environment_62g5m"]
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.5

[node name="FirstDungeon" instance=ExtResource("1_cauw0")]

[node name="WorldEnvironment" parent="." index="0"]
environment = SubResource("Environment_62g5m")

[node name="FloorGridMap" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 2)
data = {
"cells": PackedInt32Array(65535, 65535, 0, 0, 65535, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 65535, 1, 0, 65535, 0, 0, 0, 0, 0, 65534, 1, 0, 65534, 0, 0, 65534, 65535, 0, 65534, 65534, 0, 65535, 65534, 0, 0, 65534, 0, 1, 65534, 0, 1, 65535, 0, 65533, 1, 0, 65533, 0, 0, 65533, 65535, 0, 65533, 65534, 0, 65533, 65533, 0, 65534, 65533, 0, 65535, 65533, 0, 0, 65533, 0, 1, 65533, 0, 2, 65533, 0, 2, 65534, 0, 2, 65535, 0, 2, 0, 0, 2, 1, 0, 65532, 1, 0, 65532, 0, 0, 65532, 65535, 0, 65532, 65534, 0, 65532, 65533, 0, 65532, 65532, 0, 65533, 65532, 0, 65534, 65532, 0, 65535, 65532, 0, 0, 65532, 0, 1, 65532, 0, 2, 65532, 0, 3, 65532, 0, 3, 65533, 0, 3, 65534, 0, 3, 65535, 0, 3, 0, 0, 3, 1, 0, -65533, 2, 655360, -65534, 2, 655360, -65535, 2, 655360, -65536, 2, 655360, -65536, 3, 655360, -65535, 3, 655360, -65535, 4, 655360, -65534, 3, 655360, -65533, 3, 655360, -65533, 4, 655360, -65534, 4, 655360, -65536, 4, 655360, -65536, 5, 1441792, -65535, 5, 1441792, -65534, 5, 1441792, -65541, 2, 1441792, -65541, 1, 1441792, -65541, 0, 1441792, -65541, 65535, 1441792, -65542, 2, 1441792, -65542, 1, 1441792, -65542, 0, 1441792, -65542, 65535, 1441792, -65541, 65534, 1441792, -65542, 65534, 1441792, -65543, 65534, 1441792, -65541, 65533, 1441792, -65542, 65533, 1441792, -65544, 65534, 1441792, -65543, 65533, 1441792, -65544, 65533, 1441792, -65545, 65534, 1441792, -65545, 65533, 1441792, -65545, 65535, 1441792, -65545, 0, 1441792, -65545, 1, 1441792, -65545, 2, 1441792, -65544, 2, 1441792, -65543, 2, 1441792, -65543, 1, 1441792, -65543, 0, 1441792, -65544, 0, 1441792, -65544, 65535, 1441792, -65543, 65535, 1441792, -65544, 1, 1441792, 65531, 65533, 1441792, 65531, 65532, 1441792, 65530, 65533, 655360, 65529, 65533, 655360, 65529, 65532, 655360, 65530, 65532, 655360, 65530, 65531, 1048576, 65529, 65531, 1048576, 65529, 65530, 1048576, 65530, 65530, 1048576, 65528, 65530, 1048576, 65527, 65530, 1048576, 65526, 65530, 1048576, 65525, 65530, 1048576, 65525, 65531, 1048576, 65526, 65531, 1048576, 65527, 65531, 1048576, 65528, 65531, 1048576, -131082, 2, 0, -131083, 2, 0, -131083, 3, 0, -131082, 3, 0, -131082, 4, 0, -131083, 4, 0, -11, 6, 4, -11, 7, 4, -10, 7, 4, -10, 6, 4, -65544, 65532, 1441792, -65545, 65532, 1441792, -131083, 5, 1441792, -131082, 5, 1441792, -65537, 5, 1441792, -65538, 4, 1441792, -65538, 5, 1441792, -65539, 5, 1441792, -65539, 4, 1441792, -65540, 4, 1441792, -65540, 3, 1441792, -65540, 5, 1441792, -65539, 3, 1441792, -65540, 2, 1441792, -65539, 2, 1441792, -65538, 2, 1441792, -65538, 3, 1441792, -65537, 3, 1441792, -65537, 4, 1441792, -65537, 2, 1441792, -65541, 3, 1441792, -65541, 4, 1441792, -65541, 5, 1441792, -65540, 1, 1441792, -65539, 1, 1441792, -65538, 1, 1441792, -65537, 1, 1441792, -131082, 6, 655360, -131082, 7, 655360, -131083, 7, 655360, -131083, 6, 655360, -131082, 8, 655360, -131083, 8, 655360, -65547, 6, 38, -65546, 6, 38, -65546, 7, 38, -65547, 7, 38)
}

[node name="StairsGridMap" type="GridMap" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 2)
mesh_library = ExtResource("2_10yx4")
cell_size = Vector3(4, 4, 4)
cell_center_y = false
collision_layer = 5
collision_mask = 5
data = {
"cells": PackedInt32Array(-10, 65532, 19, -11, 65532, 19, -65546, 65534, 19, -65547, 65534, 19, -131082, 0, 19, -131083, 0, 19)
}
metadata/_editor_floor_ = Vector3(0, -2, 0)

[node name="WallsGridMap" parent="." index="3"]
data = {
"cells": PackedInt32Array(65534, 65532, 1441802, 65535, 65532, 5, 0, 65532, 655371, 1, 65532, 5, 2, 65532, 5, 3, 65532, 9, 65534, 65533, 1441798, 65534, 65534, 1441797, 65534, 65535, 1048583, 65534, 0, 655369, 65535, 0, 655366, 0, 0, 9, 0, 1, 1441803, 0, 2, 655370, 1, 2, 655368, 2, 2, 655368, 3, 2, 655370, 3, 1, 1048581, 3, 0, 1048581, 3, 65534, 1048581, 3, 65535, 1048581, 3, 65533, 1048581, -65534, 2, 5, -65535, 2, 5, -65536, 2, 10, -65533, 2, 10, -65533, 6, 10, -65536, 6, 10, -65536, 3, 1441799, -65536, 4, 1441799, -65536, 5, 1441799, -65535, 6, 655366, -65534, 6, 655366, -65533, 3, 1048581, -65533, 4, 1048581, -65533, 5, 1048581, 3, 3, 1048581, 3, 4, 1048581, 3, 5, 1048581, 1, 6, 5, 2, 6, 5, 0, 4, 1441799, 0, 3, 1441799, 0, 5, 1441799, 0, 6, 1441802, 3, 6, 1441801, 65532, 2, 1441802, 65535, 2, 7, 65534, 2, 7, 65533, 2, 7, 65532, 1, 1441825, 65532, 0, 1441826, 65532, 65535, 1441825, 65532, 65534, 36, 65532, 65532, 5, 65533, 65532, 5, 65531, 65532, 10, 65527, 65535, 1441797, 65527, 0, 1441797, 65527, 1, 1441797, 65527, 2, 1441797, 65527, 3, 655369, 65527, 4, 1441797, 65527, 5, 1441797, 65531, 2, 1048585, -9, 5, 1441797, -9, 4, 1441797, -9, 3, 655369, -9, 2, 1441797, -9, 1, 1441797, -9, 0, 1441797, -9, 65535, 1441797, -9, 65534, 1441797, -65545, 5, 1441797, -65545, 4, 1441797, -65545, 3, 655369, -65545, 2, 1441797, -65545, 1, 1441797, -65545, 0, 1441797, -65545, 65535, 1441797, -65545, 65534, 1441797, -65545, 65533, 1441797, -9, 65533, 1441797, 65527, 65533, 1441797, 65527, 65534, 1441797, 65528, 3, 5, 65529, 3, 5, 65530, 3, 5, -8, 3, 5, -7, 3, 5, -6, 3, 5, -65544, 3, 5, -65543, 3, 5, -65542, 3, 5, 65529, 65534, 655396, 65530, 65534, 655393, 65529, 65533, 1048609, 65531, 65530, 9, 65531, 65528, 9, 65528, 65532, 5, 65527, 65532, 1048585, 65530, 65530, 6, 65531, 65531, 1441798, 65529, 65530, 655365, 65528, 65530, 655365, 65527, 65530, 655365, 65526, 65530, 655365, 65525, 65530, 1048585, 65525, 65531, 1048582, 65525, 65532, 1048581, 65525, 65533, 1048581, 65525, 65534, 1048581, 65525, 65535, 1048581, 65525, 0, 1048581, 65525, 1, 1048581, 65525, 2, 1048581, 65525, 3, 1048581, 65525, 4, 1048581, 65525, 5, 1048581, -131081, 1, 1441797, -131081, 2, 1441797, -131081, 3, 1441797, -131081, 4, 1441797, -131081, 5, 1441797, -131083, 5, 1441797, -131083, 4, 1441797, -131083, 3, 1441797, -131083, 2, 1441797, -131083, 1, 1441797, -131083, 0, 1441797, -131081, 0, 1441797, -9, 65532, 1048585, -65545, 65532, 1048585, -11, 65532, 1441797, -11, 65533, 1441797, -11, 65535, 1441797, -11, 0, 1441797, -11, 1, 1441797, -11, 2, 1441797, -11, 3, 1441797, -11, 4, 1441797, -11, 5, 1441797, -65547, 5, 1441797, -65547, 4, 1441797, -65547, 3, 1441797, -65547, 2, 1441797, -65547, 1, 1441797, -65547, 0, 1441797, -65547, 65535, 1441797, -65547, 65534, 1441797, -65547, 65533, 1441797, -11, 65534, 1441797, -65547, 65532, 1441797, -131081, 6, 655370, -65545, 6, 655370, -9, 6, 655370, 65527, 6, 655370, 65525, 6, 655370, -11, 6, 655370, -65547, 6, 655370, -65546, 6, 655366, -10, 6, 655367, 65526, 6, 655367, 65526, 8, 655365, -10, 8, 655365, -65546, 8, 655365, -65545, 7, 1048581, -65547, 7, 1441797, -11, 7, 1441797, -9, 7, 1441797, 65527, 7, 1441797, 65525, 7, 1441797, 65527, 8, 1441801, -9, 8, 1441801, -65545, 8, 1441801, -65547, 8, 655369, -11, 8, 655369, 65525, 8, 655369, 65531, 65534, 37, -6, 65534, 5, -5, 65534, 5, -65542, 65534, 5, -65541, 65534, 5, -8, 65532, 5, -65544, 65532, 5, -65543, 65534, 655369, -7, 65534, 655369, -7, 65532, 9, -65543, 65532, 9, -65543, 65533, 1441798, -7, 65533, 1441798, -65540, 65534, 9, -4, 65534, 9, -5, 2, 1048585, -65541, 2, 1048585, -65541, 3, 1441801, -5, 3, 1441801, 65531, 3, 1441801, -65540, 2, 1048586, -4, 2, 1048586, -65540, 1, 1441797, -65540, 0, 1441797, -65540, 65535, 1441797, -4, 65535, 1441797, -4, 0, 1441797, -4, 1, 1441797, -131072, 6, 1441802, -65540, 6, 1441802, -4, 6, 1441802, 65532, 6, 1441802, 65532, 5, 1441797, 65532, 4, 1441797, 65532, 3, 1441797, 65533, 6, 655365, 65534, 6, 655365, 65535, 6, 655365, -3, 6, 655365, -2, 6, 655365, -1, 6, 655365, -65539, 6, 655365, -65538, 6, 655365, -65537, 6, 655365, -65540, 5, 1048581, -65540, 4, 1048581, -65540, 3, 1048581, -4, 3, 1048581, -4, 4, 1048581, -4, 5, 1048581, -65539, 2, 6, -65538, 2, 6, -65537, 2, 6, -131072, 2, 9, -131072, 3, 1441798, -131072, 4, 1441798, -131072, 5, 1441798, -1, 2, 655365, -2, 2, 655365, -3, 2, 655365, -131081, 7, 1048582, -131081, 8, 1441801, -131083, 8, 655369, -131083, 7, 1048582, -131082, 8, 11, -131083, 6, 655370, -131082, 6, 655371)
}
metadata/_editor_floor_ = Vector3(0, -3, 0)

[node name="Player" parent="." index="4"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2, 1, -10)

[node name="ExitDoor" parent="." index="5" instance=ExtResource("3_whfc1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -14)
level_path = "res://scenes/GameScene/Levels/first_dungeon.tscn"
entering_door_name = "ExitDoor2"

[node name="ExitDoor2" parent="." index="6" instance=ExtResource("3_whfc1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -38, -12, 34)
level_path = "res://scenes/GameScene/Levels/moat_level.tscn"

[node name="OffsetXGridMap" type="GridMap" parent="." index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)
mesh_library = ExtResource("2_10yx4")
cell_size = Vector3(4, 4, 4)
cell_center_y = false
collision_layer = 5
collision_mask = 5
data = {
"cells": PackedInt32Array(2, 6, 655365, 65530, 65534, 35, 65529, 65532, 11, 65528, 65532, 5, 65530, 65532, 5)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="OffsetZGridMap" type="GridMap" parent="." index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2)
mesh_library = ExtResource("2_10yx4")
cell_size = Vector3(4, 4, 4)
cell_center_y = false
collision_layer = 5
collision_mask = 5
data = {
"cells": PackedInt32Array(65529, 65532, 1048611, 65527, 3, 1441797, -9, 3, 1441797, -65545, 3, 1441797, 65531, 65533, 1048587, 65531, 65532, 1441797)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Door" parent="." index="9" instance=ExtResource("4_hrkjl")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2, 0, 5)
locked = true

[node name="Door2" parent="." index="10" instance=ExtResource("4_hrkjl")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -18, 0, -9)
locked = true

[node name="Door3" parent="." index="11" instance=ExtResource("4_hrkjl")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -23, 0, -14)
locked = true

[node name="Door4" parent="." index="12" instance=ExtResource("4_hrkjl")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -37, -12, 26)
locked = true

[node name="DoorTrigger" parent="." index="13" node_paths=PackedStringArray("doors") instance=ExtResource("5_2wfsk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, -4, 18)
doors = [NodePath("../Door")]

[node name="DoorTrigger2" parent="." index="14" node_paths=PackedStringArray("doors") instance=ExtResource("5_2wfsk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, -8, 2)
doors = [NodePath("../Door2"), NodePath("../Door3")]

[node name="DoorTrigger3" parent="." index="15" node_paths=PackedStringArray("doors") instance=ExtResource("5_2wfsk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -38, -12, 20)
doors = [NodePath("../Door4")]

[node name="DoorTrigger4" parent="." index="16" node_paths=PackedStringArray("doors", "orbs") instance=ExtResource("5_2wfsk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 0, -18)
doors = [NodePath("../Door3")]
orbs = [NodePath("../Orb4")]
toggled = true

[node name="OrbReceiver" parent="DoorTrigger4" index="2"]
has_orbs = true

[node name="Orb" parent="." index="17" instance=ExtResource("6_v2jpw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 1.5, 2)

[node name="LightSource" parent="." index="18" node_paths=PackedStringArray("orbs") instance=ExtResource("7_u4306")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 2)
orbs = [NodePath("../Orb")]
toggled = true

[node name="OrbReceiver" parent="LightSource" index="2"]
has_orbs = true

[node name="Orb2" parent="." index="19" instance=ExtResource("6_v2jpw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 1.5, 2)

[node name="LightSource2" parent="." index="20" node_paths=PackedStringArray("orbs") instance=ExtResource("7_u4306")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 0, 2)
orbs = [NodePath("../Orb2")]
toggled = true

[node name="OrbReceiver" parent="LightSource2" index="2"]
has_orbs = true

[node name="Orb4" parent="." index="21" instance=ExtResource("6_v2jpw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 2, -18)

[node name="Orb3" parent="." index="22" instance=ExtResource("6_v2jpw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -38, -2.5, 30)

[node name="LightSource3" parent="." index="23" node_paths=PackedStringArray("orbs") instance=ExtResource("7_u4306")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -38, -4, 30)
orbs = [NodePath("../Orb3")]
toggled = true

[node name="OrbReceiver" parent="LightSource3" index="2"]
has_orbs = true

[editable path="DoorTrigger4"]
[editable path="LightSource"]
[editable path="LightSource2"]
[editable path="LightSource3"]
